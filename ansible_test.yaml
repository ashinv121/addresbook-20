- name : Configure Docker on EC2 Instances
  hosts : selenium-test-machine
  become: true
  connection : ssh
  tasks : 
  
  - name: Update APT cache
    become: yes
    apt:
        update_cache: yes
  
  - name: Install openjdk-11-jdk package
    become: yes
    apt:
        name: openjdk-11-jdk
        state: present
    
  - name: Install Google Chrome repository signing key
    apt_key:
      url: https://dl.google.com/linux/linux_signing_key.pub
      state: present

  - name: Add Google Chrome APT repository
    apt_repository:
      repo: deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main
      state: present

  - name: Update APT cache
    apt:
        update_cache: yes

  - name: Install Google Chrome
    apt:
      name: google-chrome-stable
      state: present

  - name: get google chrome driver
    url: https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/115.0.5790.170/linux64/chromedriver-linux64.zip
    state: present

  - name: install zip tool
    become: yes
    apt: 
      name: zip 
      state: present

  - name: unzip chromedriver
    shell: "unzip chromedriver-linux64.zip"


#  - name: Copy JAR file
#    copy:
        #src: com.selenium.jar
        #dest: /home/ubuntu/com.selenium.jar 

  #- name : run-java-file
  #  command : sudo java -jar /home/ubuntu/com.selenium.jar


 

    
  
