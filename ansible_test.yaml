- name : Configure Docker on EC2 Instances
  hosts : seleniumServer
  become: true
  connection : ssh
  tasks : 
  - name: updating apt
    command : sudo apt install openjdk-11-jdk
    
  - name: Copy JAR file
    copy:
        src: com.selenium.jar
        dest: /home/ubuntu/com.selenium.jar 

  - name : run-java-file
    command : sudo java -jar /home/ubuntu/com.selenium.jar

  - name: Get Docker Container IDs
    command: "sudo docker ps -aq"
    register: docker_container_ids

  - name: Stop Docker Containers
    shell: "sudo docker stop {{ docker_container_ids.stdout }}"

 

    
  
